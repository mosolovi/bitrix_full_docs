[Пространство имён Bitrix](/api_d7/bitrix/index.php)

Генератор документов (с версии 18.0.7)

Генератор документов
====================

Включить вкладки

Описание и основные классы

Вспомогательные классы

ORM-таблеты

События

### Описание и основные классы

**Генератор документов** - модуль для создания и работы с документами.

Перед использованием модуля необходимо проверить установлен ли он, и подключить его при помощи конструкции:

```
\Bitrix\Main\Loader::includeModule('documentgenerator');
Копировать
```

| Класс | Описание |
| --- | --- |
| Основные классы | |
| [Body](/api_d7/bitrix/documentgenerator/body/index.php) | Класс-парсер. Нужен для доступа к контенту шаблона. Позволяет выполнить замену плейсхолдеров на реальные значения. |
| Docx | Наследник класса **Body**. |
| Docxxml | Наследник класса **Body**. |
| [DataProvider](/api_d7/bitrix/documentgenerator/dataprovider/index.php) | Абстрактный класс поставщика данных. Реализующие его классы отдают поля и значения. В модуле есть несколько базовых наследников этого класса. Любой DataProvider в одном из своих полей может вернуть другой DataProvider, уровень вложенности неограниченный. |
| EntityDataProvider | Наследник класса **DataProvider** для работы с таблетами [ORM](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43&CHAPTER_ID=05748). |
| HashDataProvider | Наследник класса **DataProvider** для работы с простыми провайдерами в виде хеша. |
| ArrayDataProvider | Наследник класса **DataProvider**. Предоставляет доступ к множественным значениям одного поля. |
| [DataProviderManager](/api_d7/bitrix/documentgenerator/dataprovidermanager/index.php) | Синглтон, хранит в себе кеш провайдеров. Здесь сосредоточены методы для манипуляции данными от провайдеров - их инициализация, получение значений и пр. |
| [Template](/api_d7/bitrix/documentgenerator/template/index.php) | Служит для сопоставления плейсхолдеров из файла (Body) и того, каким образом нужно получить значения этих плейсхолдеров. Правила получения данных состоят из (в порядке повышения приоритета) настроек полей по умолчанию, настроек плейсхолдеров по умолчанию (не используется), настроек плейсхолдеров для текущего шаблона (не используется). |
| [Document](/api_d7/bitrix/documentgenerator/document/index.php) | Служит для генерации экземпляра документа, либо работы с уже существующим. Создается на основе шаблона, который отдает файл + настройки полей + тип основного провайдера. Далее перед генерацией документу необходимо передать значения полей / плейсхолдеров. После этого документ можно сгенерировать. После генерации он будет автоматически сохранен в таблице документов. |

#### Смотрите также:

* [Анонс обновления генератора документов 20.0.0](https://dev.1c-bitrix.ru/community/blogs/keymnsk-blog-dv/the-announcement-of-updates-to-the-document-generator-2000.php)

### Вспомогательные классы

| Класс | Описание |
| --- | --- |
| Storage | Интерфейс и набор классов, отвечающих за доступ к файловой системе. Представлены тремя уровнями иерархии - физические файлы, b\_file и диск. По умолчанию, если диск установлен - файлы всегда кидаются туда. Если диска нет - значит b\_file. |
| Driver | Вспомогательный хелпер-синглтон. Здесь лежат методы для агентов. |
| getRegionsList() | Метод возвращает список регионов в виде массива. Ключ - код региона, значение - массив вида.  ``` [ 	'CODE' => '',// код региона, совпадает с ключем массива 	'TITLE' => '',// языкозависимое название региона (на текущем языке) 	'LANGUAGE_ID' => '',// ид языка ]; Копировать ``` |
| getCurrentRegion() | Метод возвращает текущий регион. Ответ как в методе `getRegionsList()`, но там массив региона. |

### ORM-таблеты

| Класс | Описание |
| --- | --- |
| [ORM](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43&CHAPTER_ID=05748)-таблеты (в папке \Bitrix\DocumentGenerator\Model\) | |
| DocumentTable | Экземпляры документов. |
| ExternalLinkTable | Короткие ссылки. С версии documentgenerator **20.100.0** в таблицу добавлены колонки для хранения времени (VIEWED\_TIME) и IP-адреса (VIEWED\_IP) первого просмотра публичной ссылки (не сотрудником портала). |
| FieldTable | Настройки для переопределения плейсхолдеров. Пока что не используется. |
| FileTable | Файлы модуля. Также этот класс выступает прослойкой между интерфейсом Storage и базой данных. |
| SpreadsheetTable | Настраиваемые таблицы. Пока что не используется. |
| TemplateTable | Экземпляры установленных шаблонов. |
| TemplateProviderTable | Связь шаблон - провайдер. |
| TemplateUserTable | Связь шаблон - коды доступа. |

### События

| Событие | Описание | С версии |
| --- | --- | --- |
| onNumberGeneratorsClassesCollect | Событие передаёт API нумератора, чтобы собрать из модулей всех возможных поставщиков данных для генерации номеров. |  |

Новинки документации в соцсетях: