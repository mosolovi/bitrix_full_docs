[Управление структурой](/api_help/fileman/index.php)

[Визуальный редактор](/api_help/fileman/editor/index.php)

[Объект oBXEditorUtils](/api_help/fileman/editor/obxeditorutils/index.php)

addPHPParser

addPHPParser
============

Включить вкладки

Описание и параметры

Пример добавления PHP-парсера

### Описание и параметры

Добавляет функцию-обработчик всех фрагментов PHP в исходном коде редактируемого документа.
Функции, добавленные таким образом, будут обрабатывать фрагменты PHP кода до замены его на стандартную иконку PHP кода,
при загрузке редактируемого документа, а также при переключении из режима кода, в WYSIWYG.

```
void
oBXEditorUtils.addPHPParser(
	function handler[,
	int orderInd]
);Копировать
```

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| **handler** | Функция, объявленная в глобальной области видимости.  В качестве единственного параметра принимает строку (содержимое php-кода). Должна вернуть строку (контент с внесёнными в него изменениями) или ***false***. В случае если возвращается ***false***, изменения в код не вносятся.  Кроме того, следует обратить внимание на то, что на обработку функции передается **весь** код php-фрагмента, включая открывающие и закрывающие теги. |
| **orderInd** | Позиция парсера при обработке. Необязательный параметр. По умолчанию, парсеры обрабатывают код в порядке, соответствующему очередности их подключения.  Передав в *orderInd*, например, 0, можно добиться того, что этот обработчик будет обрабатывать код в 1-ю очередь.  Но, если в последствии будет зарегестрирован ещё обработчик с *orderInd*=0, то он будет выполняться раньше. |

### Пример добавления PHP-парсера

```
function myPHPParser(str)
{
	//Если фрагмент PHP равен <?MyPHPFunction();?>, он заменяется на иконку
	if (str=='<?MyPHPFunction();?>')
		return '<img src="icon.gif" title="Image Title" __bxtagname="customtag">';
	return false;
}
//Добавление парсера
oBXEditorUtils.addPHPParser(myPHPParser);Копировать
```

Новинки документации в соцсетях: