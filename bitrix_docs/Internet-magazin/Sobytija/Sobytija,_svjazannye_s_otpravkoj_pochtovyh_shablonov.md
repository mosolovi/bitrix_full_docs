[Интернет-магазин](/api_help/sale/index.php)

[События](/api_help/sale/events/index.php)

События, связанные с отправкой почтовых шаблонов

События, связанные с отправкой почтовых шаблонов
================================================

**Примечание:** перечисленные ниже события устарели с версии 15.5.0, но в продукте сохранена обратная совместимость. Поэтому их можно использовать, если в настройках модуля **Интернет-магазин** отмечена опция **Включить обработку устаревших событий**. Либо вы можете использовать [события нового ядра](http://dev.1c-bitrix.ru/api_d7/bitrix/sale/events/index.php).

| Событие | Описание и параметры | Метод | С версии | До версии |
| --- | --- | --- | --- | --- |
| OnOrderNewSendEmail | Вызывается перед отправкой письма о новом заказе, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | CSaleOrder::DoSaveOrder | 11.5.0 | 15.5.0 |
| OnOrderDeliverSendEmail | Вызывается перед отправкой письма о разрешении доставки заказа, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | [DeliverOrder](/api_help/sale/classes/csaleorder/csaleorder__deliverorder.fd0e66d5.php) | 11.0.0 | 15.5.0 |
| OnOrderPaySendEmail | Вызывается перед отправкой письма об оплате заказа, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | [PayOrder](/api_help/sale/classes/csaleorder/csaleorder__payorder.88101c0f.php) | 11.0.0 | 15.5.0 |
| OnOrderCancelSendEmail | Вызывается перед отправкой письма об отмене заказа, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | [CancelOrder](/api_help/sale/classes/csaleorder/csaleorder__cancelorder.fa562b77.php) | 11.0.0 | 15.5.0 |
| OnSaleStatusEMail | Вызывается в момент формирования письма клиенту о смене статуса заказа. Может быть использовано для переопределения текста письма или его дополнения (для этого обработчик события должен возвращать необходимый текст).   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *val* | Идентификатор статуса заказа | | [StatusOrder](/api_help/sale/classes/csaleorder/csaleorder__statusorder.f21c0322.php) | 4.0.6 | 15.5.0 |
| OnOrderStatusSendEmail | Вызывается перед отправкой письма о cмене статуса заказа, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | *val* | Идентификатор статуса заказа | | [StatusOrder](/api_help/sale/classes/csaleorder/csaleorder__statusorder.f21c0322.php) | 11.0.0 | 15.5.0 |
| OnOrderRemindSendEmail | Вызывается перед отправкой письма о напоминании оплаты заказа, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | CSaleOrder::RemindPayment | 11.0.0 | 15.5.0 |
| OnOrderRecurringSendEmail | Вызывается перед отправкой письма о добавлении заказа на продление подписки, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | CSaleOrder::RemindPayment | 11.0.0 | 15.5.0 |
| OnOrderRecurringCancelSendEmail | Вызывается перед отправкой письма об отмене заказа на продление подписки, может быть использовано для модификации данных, изменения идентификатора типа почтового события, по которому будет осуществлена отправка, и отмены отправки письма.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор заказа | | *&eventName* | Тип почтового события по которому будет осуществлена отправка | | *&arFields* | Массив данных о заказе, которые будут подставлены в почтовый шаблон | | CSaleRecurring::CancelRecurring | 11.0.0 | 15.5.0 |

Новинки документации в соцсетях: