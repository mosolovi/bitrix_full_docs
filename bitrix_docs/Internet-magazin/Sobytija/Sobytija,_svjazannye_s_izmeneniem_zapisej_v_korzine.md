[Интернет-магазин](/api_help/sale/index.php)

[События](/api_help/sale/events/index.php)

События, связанные с изменением записей в корзине

События, связанные с изменением записей в корзине
=================================================

**Примечание:** перечисленные ниже события устарели с версии 15.5.0, но в продукте сохранена обратная совместимость. Поэтому их можно использовать, если в настройках модуля **Интернет-магазин** отмечена опция **Включить обработку устаревших событий**. Либо вы можете использовать [события нового ядра](http://dev.1c-bitrix.ru/api_d7/bitrix/sale/events/index.php).

| Событие | Описание и параметры | Метод | С версии | До версии |
| --- | --- | --- | --- | --- |
| OnBeforeBasketAdd | Вызывается перед добавлением записи в корзину, может быть использовано для отмены или модификации данных.   **Параметры**  |  |  | | --- | --- | | *&arFields* | Массив полей записи корзины |   Если добавление товара в корзину выполняется методом **Add2BasketByProductID**, то через него нельзя изменить название товара. Для этого добавляйте товар в корзину через **CSaleBasket::Add**. | CSaleBasket::Add | 8.0.3 | 15.5.0 |
| OnBasketAdd | Вызывается после добавления записи в корзину.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор добавленной записи | | *arFields* | Массив полей записи корзины | | CSaleBasket::Add | 8.0.3 | 15.5.0 |
| OnBeforeBasketUpdate | Вызывается перед изменением записи в корзине, может быть использовано для отмены или модификации данных.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор записи в корзине | | *&arFields* | Массив полей записи корзины | | CSaleBasket::Update | 8.0.3 | 15.5.0 |
| OnBasketUpdate | Вызывается после изменения записи в корзине.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор записи в корзине | | *arFields* | Массив полей записи корзины | | CSaleBasket::Update | 8.0.3 | 15.5.0 |
| OnBeforeBasketUpdateAfterCheck | Вызывается перед изменением корзины после проверки массива **$arFields**.   **Параметры**  |  |  | | --- | --- | | *ID* | Код записи товара в корзине | | *arFields* | Массив новых параметров элемента корзины | | CSaleBasket::Update | 11.5.0 | 15.5.0 |
| OnBeforeBasketDelete | Вызывается перед удалением записи из корзины, может быть использовано для отмены.   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор записи в корзине | | CSaleBasket::Delete | 8.0.3 | 15.5.0 |
| OnBasketDelete | Вызывается после удаления записи из корзины   **Параметры**  |  |  | | --- | --- | | *ID* | Идентификатор записи в корзине | | CSaleBasket::Delete | 8.0.3 | 15.5.0 |
| OnSetCouponList | Добавляет переданные купоны. Событие является системным.    **Параметры**  |  |  | | --- | --- | | *intUserID* | Идентификатор пользователя, для которого передаются купоны. | | *arCoupons* | Один купон или массив передаваемых купонов. | | *arModules* | Массив идентификаторов модулей, которые должны принять список купонов. Если массив пустой, то обработчик события должен обработать все модули, которые имеют обработчик этого события. | | CSaleBasket::DoSaveOrderBasket | 11.5.0 | 15.5.0 |
| OnClearCouponList | Удаляет из списка переданные купоны. Событие является системным.    **Параметры**  |  |  | | --- | --- | | *intUserID* | Идентификатор пользователя, для которого передаются купоны. | | *arCoupons* | Один купон или массив передаваемых купонов. | | *arModules* | Массив идентификаторов модулей, которые должны удалить из списка переданные купоны. Если массив пустой, то обработчик события должен обработать все модули, которые имеют обработчик этого события. | | CSaleBasket::DoSaveOrderBasket | 11.5.0 | 15.5.0 |
| OnDeleteCouponList | Полностью удаляет список купонов. Событие является системным.    **Параметры**  |  |  | | --- | --- | | *intUserID* | Идентификатор пользователя, для которого удаляются купоны. | | *arModules* | Массив идентификаторов модулей, из которых удаляется список купонов. Если массив пустой, то обработчик события должен обработать все модули, которые имеют обработчик этого события. | | CSaleBasket::DoSaveOrderBasket | 11.5.0 | 15.5.0 |

Новинки документации в соцсетях: