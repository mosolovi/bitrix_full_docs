[Интернет-магазин](/api_help/sale/index.php)

[Классы](/api_help/sale/classes/index.php)

[CSaleLocation](/api_help/sale/classes/csalelocation/index.php)

Add (доступен с 3.2.2, устарел с 14.10.0)

Add
===

Включить вкладки

Описание и параметры

Пример использования

Класс устарел. Рекомендуется использовать методы класса [Bitrix\Sale\Location](https://dev.1c-bitrix.ru/api_d7/bitrix/sale/classes/location/index.php).

### Описание и параметры

```
int
CSaleLocation::Add(
	array arFields
);Копировать
```

Метод добавляет новое местоположение включая страну и город местоположения, если нужно. Нестатический метод.

**Внимание!** Начиная с версии 14.10.0 метод не обновляется и обратная совместимость не поддерживается. Рекомендуется использовать методы нового ядра D7. Примеры работы с новым ядром можно увидеть [здесь](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43&LESSON_ID=3570).

#### Параметры вызова

| Параметр | Описание |
| --- | --- |
| arFields | Ассоциативный массив параметров местоположения с ключами:  * **SORT** - индекс сортировки; * **COUNTRY\_ID** - код страны (если такая страна уже есть, иначе код должен быть нулем, и должен быть заполнен ключ COUNTRY); * **COUNTRY** - массив с параметрами страны (если страна уже есть и установлен ключ COUNTRY\_ID, то этот ключ заполнять не нужно); * **WITHOUT\_CITY** - флаг (Y/N), означающий, что это местоположение без города (только страна) (если значением с этим ключом является N, то необходимо заполнить ключ CITY); * **CITY** - массив с параметрами города (если установлен флаг WITHOUT\_CITY в значение Y, то этот ключ заполнять не нужно); * **REGION\_NAME** - название региона; * **REGION\_ID** - ID региона;  Массив с параметрами страны должен содержать ключи:  * **NAME** - название страны (не зависящее от языка); * **SHORT\_NAME** - сокращенное название страны - абревиатура (не зависящее от языка); * **<код языка>** - ключом является код языка, а значением ассоциативный массив вида:    ```   array(   	"LID" => "код языка",   	"NAME" => "название страны на этом языке",   	"SHORT_NAME" => "сокращенное название страны (аббревиатура) на этом языке"   )Копировать   ```    Эта пара ключ-значение должна присутствовать для каждого языка системы.  Массив с параметрами города должен содержать ключи:  * **NAME** - название города (не зависящее от языка); * **SHORT\_NAME** - сокращенное название города - абревиатура (не зависящее от языка); * **<код языка>** - ключем является код языка, а значением ассоциативный массив вида:    ```   array(   	"LID" => "код языка",   	"NAME" => "название города на этом языке",   	"SHORT_NAME" => "сокращенное название города (аббревиатура) на этом языке"   )Копировать   ```    Эта пара ключ-значение должна присутствовать для каждого языка системы. |

#### Возвращаемые значения

Возвращается код добавленного местоположения или *false* у случае ошибки.

### Пример использования

```
<?
$arFields = array(
	"SORT" => 100,
	"COUNTRY_ID" => 0,
	"WITHOUT_CITY" => "N"
);
$arCountry = array(
	"NAME" => "Russian Federation",
	"SHORT_NAME" => "Russia",
	"ru" => array(
		"LID" => "ru",
		"NAME" => "Российская федерация",
		"SHORT_NAME" => "Россия"
	),
	"en" => array(
		"LID" => "en",
		"NAME" => "Russian Federation",
		"SHORT_NAME" => "Russia"
	)
);
$arFields["COUNTRY"] = $arCountry;
$arCity = array(
	"NAME" => "Kaliningrad",
	"SHORT_NAME" => "Kaliningrad",
	"ru" => array(
		"LID" => "ru",
		"NAME" => "Калининград",
		"SHORT_NAME" => "Калининград"
	),
	"en" => array(
		"LID" => "en",
		"NAME" => "Kaliningrad",
		"SHORT_NAME" => "Kaliningrad"
	)
);
$arFields["CITY"] = $arCity;
$ID = CSaleLocation::Add($arFields);
if (IntVal($ID)<=0)
	echo "Ошибка добавления местоположения";
?>Копировать
```

Новинки документации в соцсетях: