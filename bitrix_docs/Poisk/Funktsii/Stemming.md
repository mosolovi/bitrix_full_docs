[Поиск](/api_help/search/index.php)

[Функции](/api_help/search/functions/index.php)

Stemming (доступна с 6.5.0)

Stemming
========

Включить вкладки

Описание и параметры

Смотрите также

Примеры использования

### Описание и параметры

```
array
stemming(
	string sText,
	string sLang="ru"
);Копировать
```

Функция производит морфологический анализ текста и возвращает массив неизменных основ слов.

Сначала ищется и подключается анализатор для заданного языка (параметр sLang):

* Выполняется попытка подключения файла
  $\_SERVER["DOCUMENT\_ROOT"]."/bitrix/php\_interface/".$sLang."/search/stemming.php"
  и если в нем определена функция "stemming\_"$sLang, то на этом поиск завершается.
* Иначе выполняется попытка подключить анализатор из набора поставляемых с модулем поиска.
* Если и эта попытка провалилась, то будет использован анализатор по умолчанию [Stemming\_default](/api_help/search/functions/stemming_default.php).

Также ожидается, что в одном из файлов определена функция поиска стоп слов - "stemming\_stop\_".$sLang.
Если это не так, то для определения списка стоп слов будет использована
функция по умолчанию [Stemming\_stop\_default](/api_help/search/functions/stemming_stop_default.php).

Далее текст приводится к верхнему регистру и разбивается на отдельные слова.
Разбивка происходит путем удаления всех символов не входящих в алфавит языка.
Алфавит задается следующим образом:

* В расчет принимаются все символы возвращаемые функцией [Stemming\_letter\_default](/api_help/search/functions/stemming_letter_default.php);
* К ним добавляются символы возвращаемые функцией "stemming\_letter\_".$sLang (если таковая определена);
* А также символы входящие в соответствующую настройку модуля поиска.

Для каждого слова с помощью найденной ранее функции определяется неизменная основа.
После этого, если слово не является стоп словом оно заносится в массив который
будет возвращен в качестве результата.

#### Параметры функции

| Параметр | Описание |
| --- | --- |
| sText | Содержит текст для морфологического анализа. |
| sLang | Идентификатор языка текста. |

#### Возвращаемое значение

Функция возвращает ассоциативный массив ключами которого являются неизменные основы слов,
а значениями частота их появления.

### Смотрите также

* [Stemming\_default](/api_help/search/functions/stemming_default.php)
* [Stemming\_stop\_default](/api_help/search/functions/stemming_stop_default.php)
* [Stemming\_letter\_default](/api_help/search/functions/stemming_letter_default.php)

### Примеры использования

```
<?
$ar = stemming("Зебры любят зебр, а не слонов!", "ru");
print_r($ar);
//Будет напечатано:
/*
array(
	"ЗЕБР" => 2
	"ЛЮБ" => 1
	"СЛОН" => 1
)
*/
?>
Копировать
```

Новинки документации в соцсетях: