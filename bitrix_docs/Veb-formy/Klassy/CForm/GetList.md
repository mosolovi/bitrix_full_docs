[Веб-формы](/api_help/form/index.php)

[Классы](/api_help/form/classes/index.php)

[CForm](/api_help/form/classes/cform/index.php)

GetList (3.1.1)

GetList
=======

Включить вкладки

Описание и параметры

Смотрите также

Примеры использования

### Описание и параметры

```
CDBResult
CForm::GetList(
	string &by = "s_sort",
	string &order = "asc",
	array filter = array(),
	bool &is_filtered,
	int min_permission = 10
)Копировать
```

Возвращает список [веб-форм](/api_help/form/terms.php#form) в виде объекта класса [CDBResult](/api_help/main/reference/cdbresult/index.php). Метод нестатический.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Ссылка на переменную с полем для сортировки, может принимать значения:  * **s\_id** - ID веб-формы; * **s\_sort** - индекс сортировки; * **s\_name** - заголовок веб-формы; * **s\_sid** - символьный идентификатор веб-формы. |
| *оrder* | Ссылка на переменную с порядком сортировки, может принимать значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации. В массиве допустимы следующие ключи:  * **ID**\* - ID веб-формы (по умолчанию будет искаться точное совпадение); * **ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ID** будет искаться вхождение; * **SID**\* - символьный идентификатор веб-формы (по умолчанию будет искаться точное совпадение); * **SID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **SID** будет искаться вхождение; * **NAME**\* - заголовок веб-формы (по умолчанию будет искаться вхождение); * **NAME\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **NAME** будет искаться точное совпадение; * **DESCRIPTION**\* - описание веб-формы (по умолчанию будет искаться вхождение); * **DESCRIPTION\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **DESCRIPTION** будет искаться точное совпадение; * **SITE**\* - идентификатор сайта или массив идентификаторов сайтов, к которым приписана веб-форма (по умолчанию будет искаться точное совпадение); * **SITE\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **SITE** будет искаться вхождение.  \* - допускается сложная логика |
| *is\_filtered* | Ссылка на переменную, хранящую флаг отфильтрованности списка веб-форм. Если значение равно "true", то список был отфильтрован. |
| *min\_permission* | Минимальный уровень [прав на веб-форму](/api_help/form/permissions.php#form).  Параметр необязательный. По умолчанию - 2. С версии 4.0.4 - 10 (право на заполнение веб-формы и создание нового результата). |

### Смотрите также

* [Поля CForm](/api_help/form/classes/cform/index.php)
* [Права на веб-форму](/api_help/form/permissions.php#form)
* [CForm::GetByID](/api_help/form/classes/cform/getbyid.php)
* [CForm::GetBySID](/api_help/form/classes/cform/getbysid.php)

### Примеры использования

```
<?
// сформируем массив фильтра
$arFilter = Array(
	"ID"                      => "1 | 2",          // ID=1 либо ID=2
	"ID_EXACT_MATCH"          => "Y",              // точное совпадение по ID
	"NAME"                    => "Анкета",         // в заголовке веб-формы есть слово "Анкета"
	"NAME_EXACT_MATCH"        => "N",              // не точное совпадение по NAME
	"SID"                     => "ANKETA",         // символьный идентификатор равен ANEKTA
	"SID_EXACT_MATCH"         => "Y",              // точное совпадение по SID
	"DESCRIPTION"             => "заполните",      // в описании есть слово "заполните"
	"DESCRIPTION_EXACT_MATCH" => "N",              // не точное совпадение по DESCRIPTION
	"SITE"                    => array("r1", "e2") // веб-форма приписана и к сайтам r1, e2
);
// получим список всех форм, для которых у текущего пользователя есть право на заполнение
$rsForms = CForm::GetList($by="s_id", $order="desc", $arFilter, $is_filtered);
while ($arForm = $rsForms->Fetch())
{
	echo "<pre>"; print_r($arForm); echo "</pre>";
}
?>Копировать
```

Новинки документации в соцсетях: