[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CSearcher](/api_help/statistic/classes/csearcher/index.php)

GetList

GetList
=======

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CSearcher::GetList(
	string &by = "s_today_hits",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered,
	mixed limit = false
)Копировать
```

Возвращает список [поисковых систем](/api_help/statistic/terms.php#search) и количество [хитов](/api_help/statistic/terms.php#search_hit) (проиндексированных страниц) каждой из них за все время ведения статистики, за последние 3 дня, либо за указанный интервал времени.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Поле для сортировки. Возможные значения:  * **s\_id** - ID поисковой системы; * **s\_date\_last** - дата последнего хита; * **s\_today\_hits** - количество хитов за сегодня; * **s\_yesterday\_hits** - количество хитов за вчера; * **s\_b\_yesterday\_hits** - количество хитов за позавчера; * **s\_total\_hits** - суммарное количество хитов; * **s\_period\_hits** - количество хитов за установленный период времени (*filter*["**DATE1**"], *filter*["**DATE2**"]); * **s\_name** - название поисковой системы; * **s\_user\_agent** - [UserAgent поисковой системы](/api_help/statistic/terms.php#search_useragent). |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **ID**\* - ID поисковой системы; * **ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ID** будет искаться вхождение * **ACTIVE** - флаг активности, возможные значения:   + **Y** - активна;   + **N** - не активна. * **SAVE\_STATISTIC** - флаг "сохранять хиты поисковой системы", возможные значения:   + **Y** - да;   + **N** - нет. * **DIAGRAM\_DEFAULT** - флаг "включать в круговую диаграмму и график по умолчанию", возможные значения:   + **Y** - да;   + **N** - нет. * **HITS1** - начальное значение интервала для поля "количество хитов"; * **HITS2** - конечное значение интервала для поля "количество хитов"; * **DATE1\_PERIOD** - начальное значение значение для произвольного периода; * **DATE2\_PERIOD** - конечное значение значение для произвольного периода; * **DATE1** - начальное значение интервала для поля "дата последнего хита поисковой системы"; * **DATE2** - конечное значение интервала для поля "дата последнего хита поисковой системы"; * **NAME**\* - наименование поисковой системы; * **NAME\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **NAME** будет искаться точное совпадение; * **USER\_AGENT**\* - UserAgent поисковой системы; * **USER\_AGENT\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **USER\_AGENT** будет искаться точное совпадение.  \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности списка поисковых систем. Если значение равно "true", то список был отфильтрован. |
| *limit* | Максимальное количество поисковых систем которые будут выбраны в списке. Если значение равно false, то кол-во РК будет ограничено в соответствии со значением параметра "Максимальное кол-во показываемых записей в таблицах" из настроек модуля "Статистика". |

### Смотрите также

* [CSearcher::GetDropdownList](/api_help/statistic/classes/csearcher/getdropdownlist.php)
* [Термин "Поисковая система"](/api_help/statistic/terms.php#search)

### Структура возвращаемой записи

```
Array
(
	[ID] => ID поисковой системы
	[NAME] => название
	[USER_AGENT] => UserAgent
	[DIAGRAM_DEFAULT] => [Y|N] флаг "включать в круговую диаграмму и график по умолчанию"
	[DATE_LAST] => дата последнего хита
	[TOTAL_HITS] => суммарное количество хитов
	[TODAY_HITS] => количество хитов за сегодня
	[YESTERDAY_HITS] => количество хитов за вчера
	[B_YESTERDAY_HITS] => количество хитов за позавчера
	[PERIOD_HITS] => количество хитов за установленный период времени (filter["DATE1_PERIOD"], filter["DATE2_PERIOD"])
)Копировать
```

### Примеры использования

```
<?
// отфильтруем данные только для поисковой системы #20 и #21
// а также получим дополнительные данные на декабрь 2005 года
$arFilter = array(
	"ID"           => "20 | 21",
	"DATE1_PERIOD" => "01.12.2005",
	"DATE2_PERIOD" => "31.12.2005",
);
// получим список записей
$rs = CSearcher::GetList(
	($by = "s_today_hits"), 
	($order = "desc"), 
	$arFilter, 
	$is_filtered
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: