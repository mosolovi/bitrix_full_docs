[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CTraffic](/api_help/statistic/classes/ctraffic/index.php)

GetDailyList

GetDailyList
============

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CTraffic::GetDailyList(
	string &by = "s_date",
	string &order = "desc",
	array &max_min, 
	array filter = array(),
	bool &is_filtered,
	string get_maxmin = "Y"
)Копировать
```

Возвращает количество [хитов](/api_help/statistic/terms.php#hit), [хостов](/api_help/statistic/terms.php#host), [сессий](/api_help/statistic/terms.php#session), [посетителей](/api_help/statistic/terms.php#guest), [событий](/api_help/statistic/terms.php#event), коэфициенты оценки внимательности посетителей в разрезе по дням.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Поле для сортировки. Возможные значения:  * **s\_id** - ID записи; * **s\_date** - дата; * **s\_hits** - количество хитов; * **s\_hosts** - количество хостов; * **s\_sessions** - количество сессий; * **s\_events** - количество событий; * **s\_guests** - количество посетителей; * **s\_new\_guests** - количество [новых посетителей](/api_help/statistic/terms.php#new_guest); * **s\_favorites** - количество посетителей, добавивших сайт в "[Избранное](/api_help/statistic/terms.php#favorites)". |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *max\_min* | Ссылка на массив содержащий максимальную и минимальную даты из выбранного результирующего списка. Структура данного массива:  ``` Array ( 	[DATE_FIRST] => минимальная дата 	[MIN_DAY] => день минимальной даты (1-31) 	[MIN_MONTH] => месяц минимальной даты (1-12) 	[MIN_YEAR] => год минимальной даты 	[DATE_LAST] => максимальная дата 	[MAX_DAY] => день максимальной даты (1-31) 	[MAX_MONTH] => месяц максимальной даты (1-12) 	[MAX_YEAR] => год максимальной даты  )Копировать ``` |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **ID**\* - ID записи; * **ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ID** будет искаться вхождение; * **DATE1** - начальное значение интервала для поля "дата"; * **DATE2** - конечное значение интервала для поля "дата"; * **HITS\_1** - начальное значение интервала для поля "количество хитов"; * **HITS\_2** - конечное значение интервала для поля "количество хитов"; * **HOSTS\_1** - начальное значение интервала для поля "количество хостов"; * **HOSTS\_2** - начальное значение интервала для поля "количество хостов"; * **SESSIONS\_1** - начальное значение интервала для поля "количество сессий"; * **SESSIONS\_2** - конечное значение интервала для поля "количество сессий"; * **EVENTS\_1** - начальное значение интервала для поля "количество событий"; * **EVENTS\_2** - конечное значение интервала для поля "количество событий"; * **GUESTS\_1** - начальное значение интервала для поля "количество посетителей"; * **GUESTS\_2** - конечное значение интервала для поля "количество посетителей"; * **NEW\_GUESTS\_1** - начальное значение интервала для поля "количество новых посетителей"; * **NEW\_GUESTS\_2** - конечное значение интервала для поля "количество новых посетителей"; * **FAVORITES\_1** - начальное значение интервала для поля "количество посетителей добавивших сайт в "Избранное""; * **FAVORITES\_2** - конечное значение интервала для поля "количество посетителей добавивших сайт в "Избранное"; * **SITE\_ID**\* - ID сайта; * **SITE\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **SITE\_ID** будет искаться вхождение.  \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности результирующего списка. Если значение равно "true", то список был отфильтрован. |
| *get\_maxmin* | Если значение данной переменной равно "Y", то в параметр *max\_min* будет возвращен соответствующий массив содержащий максимальную и минимальную даты из выбранного результирующего списка. |

### Смотрите также

* [CTraffic::GetCommonValues](/api_help/statistic/classes/ctraffic/getcommonvalues.php)
* [Отчет "Динамика посещаемости"](http://www.1c-bitrix.ru/user_help/statistic/site_traffic/traffic.php)

### Структура возвращаемой записи

```
Array
(
	[ID] => ID записи
	[DATE_STAT] => дата
	[DAY] => день (1-31)
	[MONTH] => месяц (1-12)
	[YEAR] => год
	[WDAY] => номер дня недели
		(0 - понедельник,
		1 - вторник, ... 
		6 - воскресенье)
	[HITS] => количество хитов
	[C_HOSTS] => количество хостов
	[SESSIONS] => количество сессий
	[C_EVENTS] => количество событий
	[GUESTS] => количество посетителей
	[NEW_GUESTS] => количество новых посетителей
	[FAVORITES] => количество посетителей, добавивших сайт в "Избранное"
	[TOTAL_HOSTS] => количество хостов
	[AM_AVERAGE_TIME] => среднее время длительности сессии
	[AM_1] => количество сессий длительность которых менее 1 минуты
	[AM_1_3] => количество сессий длительность которых от 1 до 3 минут
	[AM_3_6] => количество сессий длительность которых от 3 до 6 минут
	[AM_6_9] => количество сессий длительность которых от 6 до 9 минут
	[AM_9_12] => количество сессий длительность которых от 9 до 12 минут
	[AM_12_15] => количество сессий длительность которых от 12 до 15 минут
	[AM_15_18] => количество сессий длительность которых от 15 до 18 минут
	[AM_18_21] => количество сессий длительность которых от 18 до 21 минут
	[AM_21_24] => количество сессий длительность которых от 21 до 24 минут
	[AM_24] => количество сессий длительность которых более 24 минут
	[AH_AVERAGE_HITS] => среднее количество хитов в сессии
	[AH_1] => количество сессий в которых был только 1 хит
	[AH_2_5] => количество сессий в которых было от 2 до 5 хитов
	[AH_6_9] => количество сессий в которых было от 6 до 9 хитов
	[AH_10_13] => количество сессий в которых было от 10 до 13 хитов
	[AH_14_17] => количество сессий в которых было от 14 до 17 хитов
	[AH_18_21] => количество сессий в которых было от 18 до 21 хитов
	[AH_22_25] => количество сессий в которых было от 22 до 25 хитов
	[AH_26_29] => количество сессий в которых было от 26 до 29 хитов
	[AH_30_33] => количество сессий в которых было от 30 до 33 хитов
	[AH_34] => количество сессий в которых было более 34 хитов
)Копировать
```

### Примеры использования

```
<?
// ограничимся данными только за декабрь 2007 года
$arFilter = array(
	"DATE1" => "01.12.2007",
	"DATE2" => "31.12.2007"
);
// получим данные по посещаемости
$rsDays = CTraffic::GetDailyList(
	($by="s_date"), 
	($order="desc"), 
	$arMaxMin, 
	$arFilter, 
	$is_filtered
);
while ($arDay = $rsDays->Fetch())
{
	echo "дата: ".$arDay["DATE_STAT"]."<br>";
	echo "количество хитов: ".$arDay["HITS"]."<br>";
	echo "количество хостов: ".$arDay["C_HOSTS"]."<br>";
	echo "количество сессий: ".$arDay["SESSIONS"]."<br>";
	echo "количество событий: ".$arDay["C_EVENTS"]."<br>";
	echo "количество посетителей: ".$arDay["GUESTS"]."<br>";
}
?>Копировать
```

Новинки документации в соцсетях: