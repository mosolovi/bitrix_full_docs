[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CTraffic](/api_help/statistic/classes/ctraffic/index.php)

GetRefererList

GetRefererList
==============

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CTraffic::GetRefererList(
	string &by = "ref_today",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered,
	mixed limit = 10,
)Копировать
```

Возвращает количество [ссылающихся сайтов](/api_help/statistic/terms.php#referer) за весь период ведения статистики, за последние 3 дня, а также за произвольный указанный интервал времени.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Поле для сортировки. Возможные значения:  * **ref\_server** - ссылающийся сайт; * **ref\_today** - количество заходов с ссылающегося сайта за сегодня; * **ref\_yesterday** - количество заходов с ссылающегося сайта за вчера; * **ref\_bef\_yesterday** - количество заходов с ссылающегося сайта за позавчера; * **ref\_total** - суммарное количество заходов с ссылающегося сайта; * **ref\_period** - количество заходов с ссылающегося сайта за установленный период времени (*filter*[**DATE1**], *filter*[**DATE2**]). |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **SITE\_ID** - ID сайта для которого необходимо получить статистику по ссылающимся сайтам; * **DATE1** - начальная дата; * **DATE2** - конечная дата. |
| *is\_filtered* | Флаг отфильтрованности списка ссылающихся сайтов. Если значение равно "true", то список был отфильтрован. |
| *limit* | Максимальное число записей результирующего списка. Если задано число >0, то число записей будет ограничено, иначе ограничений не будет. |

### Смотрите также

* [Класс "CReferer"](/api_help/statistic/classes/creferer/index.php)
* [Отчет "Сводная статистика"](http://www.1c-bitrix.ru/user_help/statistic/stat_list.php)

### Структура возвращаемой записи

```
Array
(
	[SITE_NAME] => ссылающийся сайт
	[TOTAL_REFERERS] => суммарное количество заходов с данного ссылающегося сайта
	[TODAY_REFERERS] => количество заходов с ссылающегося сайта за сегодня
	[YESTERDAY_REFERERS] => количество заходов с ссылающегося сайта за вчера
	[B_YESTERDAY_REFERERS] => количество заходов с ссылающегося сайта за позавчера
	[PERIOD_REFERERS] => количество заходов с ссылающегося сайта за установленный период времени (filter[DATE1], filter[DATE2])
)Копировать
```

### Примеры использования

```
<?
// получим дополнительные данные за декабрь 2007 года
$arFilter = array(
	"DATE1" => "01.12.2007",
	"DATE2" => "31.12.2007"
);
// получим список поисковых фраз и статистику по ним
$rs = CTraffic::GetRefererList(
	($by="ref_today"), 
	($order="desc"), 
	$arFilter, 
	$is_filtered, 
	false
);
while ($ar = $rs->Fetch())
{
	echo "ссылающийся сайт: ".$ar["SITE_NAME"]."<br>";
	echo "всего заходов с данного ссылающегося сайта: ".
		$ar["TOTAL_REFERERS"]."<br>";
	echo "сегодня: ".$ar["TODAY_REFERERS"]."<br>";
	echo "вчера: ".$ar["YESTERDAY_REFERERS"]."<br>";
	echo "позавчера: ".$ar["B_YESTERDAY_REFERERS"]."<br>";
	echo "в течение декабря 2005 года: ".
		$ar["PERIOD_REFERERS"]."<br>";
}
?>Копировать
```

Новинки документации в соцсетях: