[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CTraffic](/api_help/statistic/classes/ctraffic/index.php)

GetSumList

GetSumList
==========

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CTraffic::GetSumList(
	string data_type,
	array filter = array(),
)Копировать
```

Возвращает количество [хитов](/api_help/statistic/terms.php#hit), [хостов](/api_help/statistic/terms.php#host), [сессий](/api_help/statistic/terms.php#session), [посетителей](/api_help/statistic/terms.php#guest), [событий](/api_help/statistic/terms.php#event) в разрезе по часам, дням недели и месяцам.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *data\_type* | Тип данных. Возможные значения:  * **hour** - данные в разрезе по часам; * **weekday** - данные в разрезе по дням недели; * **month** - данные в разрезе по месяцам. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **SITE\_ID** - ID сайта для которого необходимо получить статистику по ссылающимся сайтам; * **DATE1** - начальная дата; * **DATE2** - конечная дата. |

### Смотрите также

* [Отчет "Посещаемость"](http://www.1c-bitrix.ru/user_help/statistic/site_traffic/traffic.php)

### Структура возвращаемой записи

В зависимости от значения параметра *data\_type*, структура возвращаемой записи различная.

* при получении данных в разрезе по часам (*data\_type*=**hour**):

  ```
  Array
  (
  	[HOUR_HOST_0] => число хостов, зафиксированных с 0:00 до 1:00 часа
  	...
  	[HOUR_HOST_23] => число хостов, зафиксированных с 23:00 до 0:00
  	[HOUR_SESSION_0] => число сессий, зафиксированных с 0:00 до 1:00 часа
  	...
  	[HOUR_SESSION_23] => число сессий, зафиксированных с 23:00 до 0:00
      
  	[HOUR_HIT_0] => число хитов, зафиксированных с 0:00 до 1:00 часа
  	...
  	[HOUR_HIT_23] => число хитов, зафиксированных с 23:00 до 0:00
      
  	[HOUR_EVENT_0] => число событий, зафиксированных с 0:00 до 1:00 часа
  	...
  	[HOUR_EVENT_23] => число событий, зафиксированных с 23:00 до 0:00
      
  	[HOUR_GUEST_0] => число посетителей, зафиксированных с 0:00 до 1:00 часа
  	...
  	[HOUR_GUEST_23] => число посетителей, зафиксированных с 23:00 до 0:00
      
  	[HOUR_NEW_GUEST_0] => число новых посетителей, зафиксированных с 0:00 до 1:00 часа
  	...
  	[HOUR_NEW_GUEST_23] => число новых посетителей, зафиксированных с 23:00 до 0:00
      
  	[HOUR_FAVORITE_0] => число посетителей, добавивших сайт в "Избранное", зафиксированных с 0:00 до 1:00 часа
  	...
  	[HOUR_FAVORITE_23] => число посетителей, добавивших сайт в "Избранное", зафиксированных с 23:00 до 0:00
  )Копировать
  ```
* при получении данных в разрезе по дням недели (*data\_type*=**weekday**):

  ```
  Array
  (
  	[WEEKDAY_HOST_0] => число хостов, зафиксированных в воскресенье
  	[WEEKDAY_HOST_1] => число хостов, зафиксированных в понедельник
  	...
  	[WEEKDAY_HOST_6] => число хостов, зафиксированных в субботу
  	[WEEKDAY_SESSION_0] => число сессий, зафиксированных в воскресенье
  	[WEEKDAY_SESSION_1] => число сессий, зафиксированных в понедельник
  	...
  	[WEEKDAY_SESSION_6] => число сессий, зафиксированных в субботу
  	[WEEKDAY_HIT_0] => число хитов, зафиксированных в воскресенье
  	[WEEKDAY_HIT_1] => число хитов, зафиксированных в понедельник
  	...
  	[WEEKDAY_HIT_6] => число хитов, зафиксированных в субботу
  	[WEEKDAY_EVENT_0] => число событий, зафиксированных в воскресенье
  	[WEEKDAY_EVENT_1] => число событий, зафиксированных в понедельник
  	...
  	[WEEKDAY_EVENT_6] => число событий, зафиксированных в субботу
  	[WEEKDAY_GUEST_0] => число посетителей, зафиксированных в воскресенье
  	[WEEKDAY_GUEST_1] => число посетителей, зафиксированных в понедельник
  	...
  	[WEEKDAY_GUEST_6] => число посетителей, зафиксированных в субботу
  	[WEEKDAY_NEW_GUEST_0] => число новых посетителей, зафиксированных в воскресенье
  	[WEEKDAY_NEW_GUEST_1] => число новых посетителей, зафиксированных в понедельник
  	...
  	[WEEKDAY_NEW_GUEST_6] => число новых посетителей, зафиксированных в субботу
  	[WEEKDAY_FAVORITE_0] => число посетителей, добавивших сайт в "Избранное", зафиксированных в воскресенье
  	[WEEKDAY_FAVORITE_1] => число посетителей, добавивших сайт в "Избранное", зафиксированных в понедельник
  	...
  	[WEEKDAY_FAVORITE_6] => число посетителей, добавивших сайт в "Избранное", зафиксированных в субботу
  )Копировать
  ```
* при получении данных в разрезе по месяцам (*data\_type*=**month**):

  ```
  Array
  (
  	[MONTH_HOST_1] => число хостов, зафиксированных в январе
  	...
  	[MONTH_HOST_12] => число хостов, зафиксированных в декабре
      
  	[MONTH_SESSION_1] => число сессий, зафиксированных в январе
  	...
  	[MONTH_SESSION_12] => число сессий, зафиксированных в декабре
  	[MONTH_HIT_1] => число хитов, зафиксированных в январе
  	...
  	[MONTH_HIT_12] => число хитов, зафиксированных в декабре
  	[MONTH_EVENT_1] => число событий, зафиксированных в январе
  	...
  	[MONTH_EVENT_12] => число событий, зафиксированных в декабре
  	[MONTH_GUEST_1] => число посетителей, зафиксированных в январе
  	...
  	[MONTH_GUEST_12] => число посетителей, зафиксированных в декабре
  	[MONTH_NEW_GUEST_1] => число новых посетителей, зафиксированных в январе
  	...
  	[MONTH_NEW_GUEST_12] => число новых посетителей, зафиксированных в декабре
  	[MONTH_FAVORITE_1] => число посетителей, добавивших сайт в "Избранное", зафиксированных в январе
  	...
  	[MONTH_FAVORITE_12] => число посетителей, добавивших сайт в "Избранное", зафиксированных в декабре
  )Копировать
  ```

### Примеры использования

```
<?
// получим данные по посещаемости в разрезе по дням недели
$rs = CTraffic::GetSumList("weekday");
$ar = $rs->Fetch();
for ($i=0; $i<=6; $i++)
{
	switch($i)
	{
		case 0: echo "воскресенье"; break;
		case 1: echo "понедельник"; break;
		case 2: echo "вторник"; break;
		case 3: echo "среда"; break;
		case 4: echo "четверг"; break;
		case 5: echo "пятница"; break;
		case 6: echo "суббота"; break;
	}
	echo "<br>";
	echo "Хостов: ".$ar["WEEKDAY_HOST_".$i]."<br>";
	echo "Сессий: ".$ar["WEEKDAY_SESSION_".$i]."<br>";
	echo "Хитов: ".$ar["WEEKDAY_HIT_".$i]."<br>";
	echo "Посетителей: ".$ar["WEEKDAY_GUEST_".$i]."<br>";
	echo "Новых посетителей: ".$ar["WEEKDAY_NEW_GUEST_".$i]."<br>";
	echo "<br><br>";
}
?>Копировать
```

Новинки документации в соцсетях: