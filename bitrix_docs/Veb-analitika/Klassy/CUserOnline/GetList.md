[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CUserOnline](/api_help/statistic/classes/cuseronline/index.php)

GetList

GetList
=======

Включить вкладки

Описание и параметры

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CUserOnline::GetList(function GetList(&$guest_count, &$session_count, $arOrder=Array(), $arFilter=Array()))Копировать
```

Возвращает список [сессий](/api_help/statistic/terms.php#session) [посетителей](/api_help/statistic/terms.php#guest), проявивших активность (совершивших [хит](/api_help/statistic/terms.php#hit)) на сайте за определённый интервал времени.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *guest\_counter* | Ссылка на переменную, которая после выполнения метода будет содержать количество [посетителей в online](/api_help/statistic/terms.php#online). |
| *session\_counter* | Ссылка на переменную, которая после выполнения метода будет содержать количество сессий посетителей в online. |

#### Смотрите также

* [Отчет "Кто на сайте"](http://www.1c-bitrix.ru/user_help/statistic/users_online.php)

### Структура возвращаемой записи

```
Array
(
	[ID] => ID сессии
	[HITS] => количество хитов сессии
	[LAST_USER_ID] => ID пользователя, под которым последний раз был авторизован посетитель
	[USER_AUTH] => флаг "авторизован ли посетитель в данной сессии" (Y - да; N - нет)
	[STOP_LIST_ID] => ID записи стоп-листа, под которую попал посетитель (если это имело место быть)
	[GUEST_ID] => ID посетителя
	[NEW_GUEST] => флаг "новый посетитель" (Y - новый; N - вернувшийся)
	[FAVORITES] => флаг "добавлял ли посетитель сайт в " Избранное" в данной сессии
	[COUNTRY_ID] => ID страны посетителя
	[COUNTRY_NAME] => название страны посетителя
	[ADV_ID] => ID рекламной кампании
	[ADV_BACK] => флаг прямого захода (N) или  возврата (Y) по рекламной кампании
	[REFERER1] => идентификатор referer1 рекламной кампании
	[REFERER2] => идентификатор referer2 рекламной кампании
	[REFERER3] => дополнительный параметр рекламной кампании
    
	[FIRST_URL_FROM] => ссылающаяся страница, с которой посетитель впервые пришел на сайт
	[URL_FROM] => 
	[FIRST_SITE_ID] => 
	[URL_LAST] => страница последнего хита сессии
	[URL_LAST_404] => флаг 404 ошибки на последней странице сессии (Y - да; N - нет)
	[LAST_SITE_ID] => ID сайта на последнем хите сессии
	[IP_LAST] => IP адрес посетителя на последнем хите сессии (в виде: XXX.XXX.XXX.XXX)
	[DATE_LAST] => время последнего хита
	[SESSION_TIME] => разница во времени между первым и последним хитом сессии (сек.)
)Копировать
```

### Примеры использования

```
<?
// получим список записей
$rs = CUserOnline::GetList($guest_counter, $session_counter);
echo "Количество посетителей в онлайн: ".$guest_counter;
echo "Количество сессий в онлайн: ".$session_counter;
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: