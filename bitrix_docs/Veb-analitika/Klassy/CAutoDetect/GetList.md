[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CAutoDetect](/api_help/statistic/classes/cautodetect/index.php)

GetList

GetList
=======

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CAutoDetect::GetList(
	string &by = "s_counter",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered
)Копировать
```

Возвращает список незнакомых [UserAgent'ов](/api_help/statistic/terms.php#user_agent). Метод анализирует список сессий, и собирает все UserAgent'ы которые не принадлежат ни одной [поисковой системе](/api_help/statistic/terms.php#search) и ни одному браузеру (UserAgent'ы браузеров задаются в настройках модуля "Статистика").

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Поле для сортировки. Возможные значения:  * **s\_user\_agent** - UserAgent; * **s\_counter** - количество сессий. |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **LAST** - флаг определяющий какие сессии буду анализироваться, возможные значения:   + **Y** - за текущий день;   + **N** - за предыдущие дни (не включая текущий). * **USER\_AGENT**\* - искомый UserAgent (маска, либо его часть); * **USER\_AGENT\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **USER\_AGENT** будет искаться точное совпадение; * **COUNTER1** - начальное значение интервала для поля "количество сессий"; * **COUNTER2** - конечное значение интервала для поля "количество сессий".  \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности списка UserAgent'ов. Если значение равно "true", то список был отфильтрован. |

### Смотрите также

* Пользовательскую документацию, раздел *[Веб-аналитика > Поисковые системы > Автодетект](http://www.1c-bitrix.ru/user_help/statistic/search_engines/autodetect_list.php)*

### Структура возвращаемой записи

```
Array
(
	[USER_AGENT] => UserAgent
	[COUNTER] => кол-во сессий
)Копировать
```

### Примеры использования

```
<?
// выберем данные только за последний день
$arFilter = array(
	"LAST" => "Y"
);
// получим список записей
$rs = CAutoDetect::GetList(
	($by = "s_counter"),
	($order = "desc"),
	$arFilter = array(),
	$is_filtered
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: