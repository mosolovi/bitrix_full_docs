[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CCountry](/api_help/statistic/classes/ccountry/index.php)

GetGraphArray

GetGraphArray
=============

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемого массива

Примеры использования

### Описание и параметры

```
array
CCountry::GetGraphArray(
	array filter,
	array &legend
)Копировать
```

Возвращает данные необходимые для построения графика и круговой диаграммы посещаемости в разрезе по странам.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *filter* | Массив для фильтрации стран. В массиве допустимы следующие ключи:  * **COUNTRY\_ID** - двухсимвольный идентификатор страны; * **DATE1** - начальное значение *интервала времени*; * **DATE2** - конечное значение *интервала времени*. |
| *legend* | Массив содержащий суммарные показатели по каждой стране, а также цвет линии графика и сектора круговой диаграммы для каждой страны. Структура данного массива:  ``` Array ( 	[ID страны] => Array 	( 		[NAME] => название страны 		[SESSIONS] => кол-во сессий за интервал времени 		[NEW_GUESTS] => кол-во новых посетителей за интервал времени 		[HITS] => кол-во хитов за интервал времени 		[C_EVENTS] => кол-во событий за интервал времени 		[TOTAL_SESSIONS] => суммарное кол-во сессий 		[TOTAL_NEW_GUESTS] => суммарное кол-во новых посетителей 		[TOTAL_HITS] => суммарное кол-во хитов 		[TOTAL_C_EVENTS] => суммарное кол-во событий 		[COLOR] => цвет линии графика и сектора круговой диаграммы 	) 	... )Копировать ``` |

### Смотрите также

* Пользовательскую документацию, ["География по странам"](http://www.1c-bitrix.ru/user_help/statistic/site_traffic/country_list.php)

### Структура возвращаемого массива

```
Array
(
	[дата] => Array
	(
		[D] => день (1-31)
		[M] => месяц (1-12)
		[Y] => год
		[ID страны] => Array
		(
			[SESSIONS] => кол-во сессий по стране за дату
			[NEW_GUESTS] => кол-во новых посетителей по стране за дату
			[HITS] => кол-во хитов по стране за дату
			[C_EVENTS] => кол-во событий по стране за дату
		)
		...
	)
	...
)Копировать
```

### Примеры использования

```
<?
include($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/statistic/colors.php");
// отфильтруем данные только по России на декабрь 2007 года
$arFilter = Array(
	"COUNTRY_ID" => "ru",
	"DATE1"      => "01.12.2007",
	"DATE2"      => "31.12.2007"
);
// получим массив данных в разрезе по дням
$arDays = CCountry::GetGraphArray($arFilter, $arLegend);
// выведем полученные данные по России за декабрь 2007 года
while (list($date, $arr) = each($arDays))
{
	echo "Дата: ".$date."<br>";
	echo "Данные на эту дату: <pre>"; print_r($arr); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: