[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CCountry](/api_help/statistic/classes/ccountry/index.php)

GetList

GetList
=======

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CCountry::GetList(
	string &by = "s_name",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered
)Копировать
```

Возвращает список стран, определённых в модуле "Статистика". Загрузка списка стран осуществляется при переиндексации базы IP адресов в настройках модуля "Статистика".

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Поле для сортировки. Возможные значения:  * **s\_id** - двухсимвольный идентификатор страны; * **s\_short\_name** - трехсимвольный идентификатор страны; * **s\_name** - наименование страны; * **s\_sessions** - суммарное кол-во [сессий](/api_help/statistic/terms.php#session) по данной стране; * **s\_new\_guests** - суммарное кол-во [новых посетителей](/api_help/statistic/terms.php#new_guest) по данной стране; * **s\_hits** - суммарное кол-во [хитов](/api_help/statistic/terms.php#hit) по данной стране; * **s\_events** - суммарное кол-во [событий](/api_help/statistic/terms.php#event) по данной стране. |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **ID**\* - двухсимвольный идентификатор страны; * **ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ID** будет искаться вхождение; * **SHORT\_NAME**\* - трехсимвольный идентификатор страны; * **SHORT\_NAME\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **SHORT\_NAME** будет искаться точное совпадение; * **NAME**\* - наименование страны; * **NAME\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **NAME\_EXACT\_MATCH** будет искаться точное совпадение; * **SESSIONS1** - начальное значение интервала для поля "кол-во сессий"; * **SESSIONS2** - конечное значение интервала для поля "кол-во сессий"; * **NEW\_GUESTS1** - начальное значение интервала для поля "кол-во новых посетителей"; * **NEW\_GUESTS2** - конечное значение интервала для поля "кол-во новых посетителей"; * **HITS1** - начальное значение интервала для поля "кол-во хитов"; * **HITS2** - конечное значение интервала для поля "кол-во хитов"; * **EVENTS1** - начальное значение интервала для поля "кол-во событий"; * **EVENTS2** - конечное значение интервала для поля "кол-во событий".           \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности списка UserAgent'ов. Если значение равно "true", то список был отфильтрован. |

### Смотрите также

* Пользовательскую документацию, [настройки модуля "Статистика"](http://www.1c-bitrix.ru/user_help/statistic/settings.php)
* [SelectBox](/api_help/main/functions/html/selectbox.php)
* [SelectBoxM](/api_help/main/functions/html/selectboxm.php)

### Структура возвращаемой записи

```
Array
(
	[ID] => двухсимвольный идентификатор страны
	[SHORT_NAME] => трехсимвольный идентификатор страны
	[NAME] => название страны
	[SESSIONS] => суммарное кол-во сессий
	[NEW_GUESTS] => суммарное кол-во новых посетителей
	[HITS] => суммарное кол-во хитов
	[C_EVENTS] => суммарное кол-во событий
	[REFERENCE_ID] => параметр REFERENCE_ID для использования в функции SelectBox или SelectBoxM
	[REFERENCE] => параметр REFERENCE для использования в функции SelectBox или SelectBoxM
)Копировать
```

### Примеры использования

```
<?
// выберем только те страны из которых было не менее 100 заходов на сайт
$arFilter = array(
	"SESSIONS1" => 100
);
// получим список записей
$rs = CCountry::GetList(
	($by = "s_name"), 
	($order = "desc"), 
	$arFilter, 
	$is_filtered
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

  

```
<?
// выпадающий список с одиночным выбором
echo SelectBox("COUNTRY_ID", CCountry::GetList(), "", intval($COUNTRY_ID));
// список из 20 видимых элементов с возможностью множественного выбора
echo SelectBoxM("arCOUNTRY_ID[]", CCountry::GetList(), $arCOUNTRY_ID, "", false, 20);
?>Копировать
```

Новинки документации в соцсетях: