[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CPage](/api_help/statistic/classes/cpage/index.php)

GetDynamicList

GetDynamicList
==============

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CPage::GetDynamicList(
	string url,
	string &by = "s_date",
	string &order = "desc",
	array filter = array()
)Копировать
```

Возвращает данные по посещаемости указанной страницы (каталогу) в разрезе по дням.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *url* | Полный путь к странице (каталогу) по которой необходимо получить данные. |
| *by* | Порядок сортировки. Возможные значения:  * **s\_date** - дата. |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **DATE1** - начальное значение интервала даты; * **DATE2** - конечное значение интервала даты; * **ADV**\* - ID [рекламной кампании](/api_help/statistic/terms.php#adv) (РК), данное поле позволяет отфильтровать только те страницы (каталоги) которые были открыты только посетителями по данной РК и соответственно получить данные по посещаемости страницы (каталога) *url* только этих посетителей; * **ADV\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ADV** будет искаться вхождение; * **ADV\_DATA\_TYPE** - флаг "[возврат](/api_help/statistic/terms.php#adv_back) или [прямой заход](/api_help/statistic/terms.php#adv_first) по рекламной кампании" (используется только если указано *filter*["**ADV**"]), возможные значения:   + **B** - показывать данные по посетителям только на возврате по РК;   + **P** - показывать данные по посетителям только на прямом заходе по РК. * **IS\_DIR** - показывать данные по разделам или страницам. Для фильтрации разделов требуется указать значение Y. Для страниц - N;   Если не указать ни одно из вышеперечисленных значений, то данные будут показываться в сумме как по прямому заходу так и по возврату.   \* - допускается [сложная логика](/api_help/main/general/filter.php) |

### Смотрите также

* [Термин "Точка входа"](/api_help/statistic/terms.php#enter)
* [Термин "Точка выхода"](/api_help/statistic/terms.php#exit)

### Структура возвращаемой записи

```
Array
(
	[DATE_STAT] => дата
	[DAY] => номер дня (1-31)
	[MONTH] => номер месяца (1-12)
	[YEAR] => год
	[COUNTER] => кол-во хитов на странице url
	[ENTER_COUNTER] => сколько раз данная страница была точкой входа
	[EXIT_COUNTER] => сколько раз данная страница была точкой выхода
)Копировать
```

### Примеры использования

```
<?
$url = "http://www.bitrixsoft.ru/about/index.php";
// установим фильтр на декабрь 2007 года 
// по прямым заходам с рекламной кампании 1 либо 2
$arFilter = array(
	"DATE1" => "01.12.2007",
	"DATE2" => "31.12.2007",
	"ADV"   => "1 | 2",
	"ADV_DATA_TYPE" => "P"
);
// получим набор записей
$rs = CPage::GetDynamicList(
	$url, 
	($by="s_date"), 
	($order="desc"), 
	$arFilter, 
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: