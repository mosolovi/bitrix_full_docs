[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CPage](/api_help/statistic/classes/cpage/index.php)

GetList

GetList
=======

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CPage::GetList(
	string counter_type = "",
	string &by = "s_last_date",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered
)Копировать
```

Возвращает список посещенных на сайте страниц (каталогов) и данные по их посещаемости.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *counter\_type* | Тип счетчика. Возможные значения:  * **ENTER\_COUNTER** - кол-во раз когда данная страница (каталог) была [точкой входа](/api_help/statistic/terms.php#enter); * **EXIT\_COUNTER** - кол-во раз когда данная страница (каталог) была [точкой выхода](/api_help/statistic/terms.php#exit).  По умолчанию в счетчике хранится общее число хитов по странице (каталогу) (включая и точки входа и точки выхода). |
| *by* | Порядок сортировки. Возможные значения:  * **s\_url** - страница (каталог); * **s\_counter** - счетчик. |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **DATE1** - начальное значение для интервала даты за которую необходимо получить данные; * **DATE2** - конечное значение для интервала даты за которую необходимо получить данные; * **DIR** - флаг "показывать только каталоги или только страницы", возможные значения:   + **Y** - в результирующем списке должны быть только каталоги;   + **N** - в результирующем списке должны быть только страницы. * **URL**\* - Полный путь к странице (каталогу) для которой необходимо вывести данные; * **URL\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **URL** будет искаться точное совпадение; * **URL\_404** - была ли [404 ошибка](/api_help/statistic/terms.php#404) на странице, возможные значения:   + **Y** - была;   + **N** - не было.Для фильтрации каталогов данное поле не может использоваться. * **ADV**\* - ID [рекламной кампании](/api_help/statistic/terms.php#adv) (РК), данное поле позволяет отфильтровать только те страницы (каталоги) которые были открыты только посетителями по данной РК и соответственно получить данные по посещаемости страницы (каталога) *url* только этих посетителей; * **ADV\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ADV** будет искаться вхождение; * **ADV\_DATA\_TYPE** - флаг типа данных для рекламной кампании, возможные значения:   + **P** - только по [прямым заходам](/api_help/statistic/terms.php#adv_first) по рекламной кампании;   + **B** - только по [возвратам](/api_help/statistic/terms.php#adv_back) по рекламной кампании;   + **S** - сумма по прямым заходам и возвратам. * **SITE\_ID**\* - ID сайта; * **SITE\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **SITE\_ID** будет искаться вхождение.  \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности списка страниц (каталогов). Если значение равно "true", то список был отфильтрован. |

### Смотрите также

* [Термин "Точка входа"](/api_help/statistic/terms.php#enter)
* [Термин "Точка выхода"](/api_help/statistic/terms.php#exit)

### Структура возвращаемой записи

```
Array
(
	[URL] => страница (раздел)
	[DIR] => [Y|N] флаг "страница(N) или каталог(Y)"
	[SITE_ID] => ID сайта
	[URL_404] => флаг 404 ошибки для страницы
	[COUNTER] => счетчик хитов на данной странице (в данном каталоге)
		(только если counter_type<>ENTER_COUNTER
		и counter_type<>EXIT_COUNTER)
	[ENTER_COUNTER] => счетчик сколько раз данная страница (каталог)
		являлась точкой входа (только при установленном
		counter_type=ENTER_COUNTER)
	[EXIT_COUNTER] => счетчик сколько раз данная страница (каталог)
		являлась точкой выхода (только при установленном
		counter_type=EXIT_COUNTER)
)Копировать
```

### Примеры использования

```
<?
// получим данные по заданной странице
$arFilter = array(
	"URL" => "http://www.bitrixsoft.ru/about/index.php",
	"URL_EXACT_MATCH" => "Y"
);
// получим список записей
$rs = CPage::GetList(
	"",
	($by = "s_last_date"), 
	($order = "desc"), 
	$arFilter, 
	$is_filtered
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: