[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CStatEvent](/api_help/statistic/classes/cstatevent/index.php)

GetList

GetList
=======

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CStatEvent::GetList(
	string &by = "s_id",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered
)Копировать
```

Возвращает список [событий](/api_help/statistic/terms.php#event). Максимальное количество выдаваемых строк ограничено [настройкой модуля](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=41&LESSON_ID=2101 "Описание настроек модуля Статистика") statistic **Максимальное кол-во показываемых записей в таблицах** (RECORDS\_LIMIT), по умолчанию 500.

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Поле для сортировки. Возможные значения:  * **s\_id** - ID события; * **s\_site\_id** - ID сайта; * **s\_type\_id** - ID [типа события](/api_help/statistic/terms.php#event_type); * **s\_event3** - [дополнительный параметр event3](/api_help/statistic/terms.php#event3) события; * **s\_date\_enter** - время создания события; * **s\_adv\_id** - ID [рекламной кампании](/api_help/statistic/terms.php#adv); * **s\_adv\_back** - флаг [возврата](/api_help/statistic/terms.php#adv_back) либо [прямого захода](/api_help/statistic/terms.php#adv_first) по рекламной кампании; * **s\_session\_id** - ID [сессии](/api_help/statistic/terms.php#session); * **s\_guest\_id** - ID [посетителя](/api_help/statistic/terms.php#guest); * **s\_hit\_id** - ID [хита](/api_help/statistic/terms.php#hit); * **s\_url** - страница где зафиксированно событие; * **s\_referer\_url** - [ссылающаяся страница](/api_help/statistic/terms.php#referer); * **s\_redirect\_url** - страница куда был перенаправлен посетитель после фиксации события; * **s\_country\_id** - ID страны посетителя; * **s\_money** - денежная сумма. |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **ID**\* - ID события; * **ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ID** будет искаться вхождение; * **EVENT\_ID**\* - ID типа события; * **EVENT\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **EVENT\_ID** будет искаться вхождение; * **EVENT\_NAME**\* - название типа события; * **EVENT\_NAME\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **EVENT\_NAME** будет искаться точное совпадение; * **EVENT1**\* - [идентификатор event1](/api_help/statistic/terms.php#event_type_id) типа события; * **EVENT1\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **EVENT1** будет искаться точное совпадение; * **EVENT2**\* - [идентификатор event2](/api_help/statistic/terms.php#event_type_id) типа события; * **EVENT2\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **EVENT2** будет искаться точное совпадение; * **EVENT3**\* - дополнительный параметр event3 события; * **EVENT3\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **EVENT3** будет искаться точное совпадение; * **DATE** - время события (точное совпадение); * **DATE1** - начальное значение интервала для поля "дата события"; * **DATE2** - начальное значение интервала для поля "дата события"; * **MONEY** - денежная сумма события (точное совпадение); * **MONEY1** - начальное значение интервала для поля "денежная сумма"; * **MONEY2** - конечное значение интервала для поля "денежная сумма"; * **CURRENCY** - трехсимвольный идентификатор валюты для денежной суммы; * **SESSION\_ID**\* - ID сессии; * **SESSION\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **SESSION\_ID** будет искаться вхождение; * **GUEST\_ID**\* - ID посетителя; * **GUEST\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **GUEST\_ID** будет искаться вхождение; * **ADV\_ID**\* - ID рекламной кампании; * **ADV\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ADV\_ID** будет искаться вхождение; * **ADV\_BACK** - флаг "возврат по рекламной кампании", возможные значения:   + **Y** - был возврат;   + **N** - был прямой заход. * **HIT\_ID**\* - ID хита; * **HIT\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **HIT\_ID** будет искаться вхождение; * **COUNTRY\_ID**\* - ID страны посетителя сгенерировавшего событие; * **COUNTRY\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **COUNTRY\_ID** будет искаться вхождение; * **COUNTRY**\* - название страны посетителя сгенерировавшего событие; * **COUNTRY\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **COUNTRY** будет искаться точное совпадение; * **REFERER\_URL**\* - ссылающаяся страница; * **REFERER\_URL\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **REFERER\_URL** будет искаться точное совпадение; * **REFERER\_SITE\_ID** - ID сайта для ссылающейся страницы; * **URL**\* - страница на которой было зафиксировано событие; * **URL\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **URL** будет искаться точное совпадение; * **SITE\_ID** - ID сайта для страницы на которой было зафиксировано событие; * **REDIRECT\_URL**\* - страница куда был перенаправлен посетитель после фиксации события; * **REDIRECT\_URL\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **REDIRECT\_URL** будет искаться точное совпадение.  \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности результирующего списка. Если значение равно "true", то список был отфильтрован. |

### Смотрите также

* [CStatEvent::GetListByGuest](/api_help/statistic/classes/cstatevent/getlistbyguest.php)
* [Термин "Событие"](/api_help/statistic/terms.php#event)

### Структура возвращаемой записи

```
Array
(
	[ID] => ID события
	[EVENT3] => дополнительный параметр event3 события
	[TYPE_ID] => ID типа события
	[DATE_ENTER] => время создания события
	[EVENT1] => идентификатор event1 типа события
	[EVENT2] => идентификатор event2 типа события
	[NAME] => название типа события
	[EVENT] => event1 / event2, либо название типа события (если оно задано)
	[DESCRIPTION] => описание типа события
    
	[ADV_ID] => ID рекламной кампании
	[ADV_BACK] => флаг прямого захода (N) или возврата (Y) по рекламной кампании
	[COUNTRY_ID] => ID страны посетителя
	[COUNTRY_NAME] => название страны посетителя
	[SESSION_ID] => ID сессии
	[GUEST_ID] => ID посетителя
	[HIT_ID] => ID хита
	[REFERER_URL] => ссылающаяся страница
	[REFERER_SITE_ID] => ID сайта для ссылающейся страницы
	[URL] => страница на которой было зафиксировано событие
	[SITE_ID] => ID сайта для страницы, на которой было зафиксировано событие
	[REDIRECT_URL] => страница, на которую был перенаправлен посетитель после фиксации события
	[MONEY] => денежная сумма
	[CHARGEBACK] => Y - отрицательная денежная сумма; N - положительная денежная сумма
	[CURRENCY] => трехсимвольный идентификатор валюты для денежной суммы
)Копировать
```

### Примеры использования

```
<?
// выберем все неудаленные события посетителя #1025
$arFilter = array(
	"GUEST_ID" => "1025"
);
// получим список записей
$rs = CStatEvent::GetList(
	($by = "s_id"), 
	($order = "desc"), 
	$arFilter, 
	$is_filtered
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: