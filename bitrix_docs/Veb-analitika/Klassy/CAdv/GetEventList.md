[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CAdv](/api_help/statistic/classes/cadv/index.php)

GetEventList

GetEventList
============

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CAdv::GetEventList(
	int adv_id,
	string &by = "s_counter",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered
)Копировать
```

Возвращает список [типов событий](/api_help/statistic/terms.php#event_type), инициализированных [посетителями](/api_help/statistic/terms.php#guest), зашедшими по определённой [рекламной кампании](/api_help/statistic/terms.php#adv) (РК).

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *adv\_id* | ID рекламной кампании. |
| *by* | Поле для сортировки. Возможные значения:  * **s\_id** - ID [типа события](/api_help/statistic/terms.php#event_type) * **s\_event1** - [идентификатор](/api_help/statistic/terms.php#event_type_id) event1 типа события * **s\_event2** - [идентификатор](/api_help/statistic/terms.php#event_type_id) event2 типа события * **s\_sort** - индекс сортировки типа события * **s\_name** - наименование типа события * **s\_counter** - количество событий инициализированных посетителями на [прямом заходе](/api_help/statistic/terms.php#adv_first) по рекламной кампании *adv\_id* * **s\_counter\_back** - количество событий инициализированных посетителями на [возврате](/api_help/statistic/terms.php#adv_back) по рекламной кампании *adv\_id* * **s\_def** - сортировка по умолчанию (для вывода в соответствующей таблице) |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию * **desc** - по убыванию |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **ID**\* - ID типа события * **ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ID** будет искаться вхождение * **EVENT1**\* - идентификатор event1 типа события * **EVENT1\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **EVENT1** будет искаться точное совпадение * **EVENT2**\* - идентификатор event2 типа события * **EVENT2\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **EVENT2** будет искаться точное совпадение * **KEYWORDS**\* - имя и описание типа события * **KEYWORDS\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **KEYWORDS** будет искаться точное совпадение * **DATE1\_PERIOD** - начальная дата *периода* * **DATE2\_PERIOD** - конечная дата *периода* * **COUNTER\_PERIOD\_1** - если установлены **DATE1\_PERIOD** или **DATE2\_PERIOD**, то в данном поле можно указать начальное значение интервала количества событий инициализированных посетителями на прямом заходе по рекламной кампании *adv\_id* * **COUNTER\_PERIOD\_2** - если установлены **DATE1\_PERIOD** или **DATE2\_PERIOD**, то в данном поле можно указать конечное значение интервала количества событий инициализированных посетителями на прямом заходе по рекламной кампании *adv\_id* * **COUNTER\_BACK\_PERIOD\_1** - если установлены **DATE1\_PERIOD** или **DATE2\_PERIOD**, то в данном поле можно указать начальное значение интервала количества событий инициализированных посетителями на возврате по рекламной кампании *adv\_id* * **COUNTER\_BACK\_PERIOD\_2** - если установлены **DATE1\_PERIOD** или **DATE2\_PERIOD**, то в данном поле можно указать конечное значение интервала количества событий инициализированных посетителями на возврате по рекламной кампании *adv\_id* * **MONEY\_PERIOD\_1** - если установлены **DATE1\_PERIOD** или **DATE2\_PERIOD**, то в данном поле можно указать начальное значение интервала количество денег инициализированных посетителями на прямом заходе по рекламной кампании *adv\_id* * **MONEY\_PERIOD\_2** - если установлены **DATE1\_PERIOD** или **DATE2\_PERIOD**, то в данном поле можно указать конечное значение интервала количества денег инициализированных посетителями на прямом заходе по рекламной кампании *adv\_id*  \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности списка типов событий. Если значение равно "true", то список был отфильтрован. |

### Смотрите также

* [Термин "Рекламная кампания"](/api_help/statistic/terms.php#adv)
* [Термин "Событие"](/api_help/statistic/terms.php#event)

### Структура возвращаемой записи

```
Array
(
	[ID] => ID типа события
	[EVENT1] => идентификатор event1
	[EVENT2] => идентификатор event2
	[C_SORT] => сортировка
	[NAME] => название
	[EVENT] => название либо [ID] event1 / event2
	[DESCRIPTION] => описание
	[COUNTER] => суммарное кол-во событий данного типа на прямом заходе по РК
	[COUNTER_BACK] => суммарное кол-во событий данного типа на возврате по РК
	[COUNTER_TODAY] => кол-во событий данного типа на прямом заходе по РК за сегодня
	[COUNTER_YESTERDAY] => кол-во событий данного типа на прямом заходе по РК за вчера
	[COUNTER_BEF_YESTERDAY] => кол-во событий данного типа на прямом заходе по РК за позавчера
	[COUNTER_PERIOD] => кол-во событий данного типа на прямом заходе по РК за период
	[COUNTER_BACK_TODAY] => кол-во событий данного типа на возврате по РК за сегодня
	[COUNTER_BACK_YESTERDAY] => кол-во событий данного типа на возврате по РК за вчера
	[COUNTER_BACK_BEF_YESTERDAY] => кол-во событий данного типа на возврате по РК за позавчера
	[COUNTER_BACK_PERIOD] => кол-во событий данного типа на возврате по РК за период
	[MONEY] => итоговая денежная сумма событий данного типа на прямом заходе по РК
	[MONEY_TODAY] => денежная сумма событий данного типа на прямом заходе по РК за сегодня
	[MONEY_YESTERDAY] => денежная сумма событий данного типа на прямом заходе по РК за вчера
	[MONEY_BEF_YESTERDAY] => денежная сумма событий данного типа на прямом заходе по РК за позавчера
	[MONEY_PERIOD] => денежная сумма событий данного типа на прямом заходе по РК за период
	[MONEY_BACK] => итоговая денежная сумма событий данного на возврате по РК
	[MONEY_BACK_TODAY] => денежная сумма событий данного типа на возврате по РК за сегодня
	[MONEY_BACK_YESTERDAY] => денежная сумма событий данного типа на возврате по РК за вчера
	[MONEY_BACK_BEF_YESTERDAY] => денежная сумма событий данного типа на возврате по РК за позавчера
	[MONEY_BACK_PERIOD] => денежная сумма событий данного типа на возврате по РК за период
)Копировать
```

### Примеры использования

```
<?
$adv_id = 1;
// отфильтруем по типам события "download / file1" и "download / file2"
// а также получим дополнительные данные за декабрь 2005 года
$arFilter = array(
	"EVENT1"       => "download",
	"EVENT2"       => "file1 | file2",
	"DATE1_PERIOD" => "01.12.2005",
	"DATE2_PERIOD" => "31.12.2005"
);
// получим список записей
$rs = CAdv::GetEventList(
	$adv_id, 
	($by="s_counter"), 
	($order="desc"), 
	$arFilter, 
	$is_filtered
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: