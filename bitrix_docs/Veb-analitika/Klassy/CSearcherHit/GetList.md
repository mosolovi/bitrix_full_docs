[Веб-аналитика](/api_help/statistic/index.php)

[Классы](/api_help/statistic/classes/index.php)

[CSearcherHit](/api_help/statistic/classes/csearcherhit/index.php)

GetList

GetList
=======

Включить вкладки

Описание и параметры

Смотрите также

Структура возвращаемой записи

Примеры использования

### Описание и параметры

```
CDBResult
CSearcherHit::GetList(
	string &by = "s_date_hit",
	string &order = "desc",
	array filter = array(),
	bool &is_filtered
)Копировать
```

Возвращает список [хитов поисковых систем](/api_help/statistic/terms.php#search_hit).

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| *by* | Поле для сортировки. Возможные значения:  * **s\_id** - ID хита; * **s\_site\_id** - ID сайта; * **s\_date\_hit** - дата хита; * **s\_searcher\_id** - ID [поисковой системы](/api_help/statistic/terms.php#search); * **s\_user\_agent** - [UserAgent поисковой системы](/api_help/statistic/terms.php#search_useragent); * **s\_ip** - [IP адрес](/api_help/statistic/terms.php#ip) поисковой системы; * **s\_url** - адрес проиндексированной страницы. |
| *оrder* | Порядок сортировки. Возможные значения:  * **asc** - по возрастанию; * **desc** - по убыванию. |
| *filter* | Массив для фильтрации результирующего списка. В массиве допустимы следующие ключи:  * **ID**\* - ID хита; * **ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **ID** будет искаться вхождение; * **SEARCHER\_ID**\* - ID поисковой системы; * **SEARCHER\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **SEARCHER\_ID** будет искаться вхождение; * **URL**\* - адрес проиндексированной страницы; * **URL\_404** - была ли [404 ошибка](/api_help/statistic/terms.php#404) на проиндексированной странице:   + **Y** - была;   + **N** - не была. * **SEARCHER**\* - название поисковой системы; * **SEARCHER\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **SEARCHER** будет искаться точное совпадение; * **DATE1** - начальное значение интервала для поля "дата хита"; * **DATE2** - конечное значение интервала для поля "дата хита"; * **IP**\* - IP адрес поисковой системы; * **IP\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **IP** будет искаться точное совпадение; * **USER\_AGENT**\* - UserAgent поисковой системы; * **USER\_AGENT\_EXACT\_MATCH** - если значение равно "Y", то при фильтрации по **USER\_AGENT** будет искаться точное совпадение; * **SITE\_ID**\* - ID сайта; * **SITE\_ID\_EXACT\_MATCH** - если значение равно "N", то при фильтрации по **SITE\_ID** будет искаться вхождение.  \* - допускается [сложная логика](/api_help/main/general/filter.php) |
| *is\_filtered* | Флаг отфильтрованности результирующего списка. Если значение равно "true", то список был отфильтрован. |

### Смотрите также

* [Термин "Хит поисковой системы"](/api_help/statistic/terms.php#search_hit)

### Структура возвращаемой записи

```
Array
(
	[ID] => ID хита
	[DATE_HIT] => дата хита
	[SEARCHER_ID] => ID поисковой системы
	[SEARCHER_NAME] => название поисковой системы
	[URL] => адрес проиндексированной страницы
	[URL_404] => [Y|N] флаг 404 ошибки на проиндексированной странице
	[IP] => IP адрес поисковой системы
	[USER_AGENT] => UserAgent поисковой системы
	[HIT_KEEP_DAYS] => индивидуально количество дней, отводимое для хранения хитов поисковой системы
	[SITE_ID] => ID сайта
)Копировать
```

### Примеры использования

```
<?
// отфильтруем страницы проиндексированные 
// поисковой системой #20 и #21
$arFilter = array(
	"SEARCHER_ID" => "20 | 21"
);
// получим список записей
$rs = CSearcherHit::GetList(
	($by = "s_url"), 
	($order = "desc"), 
	$arFilter, 
	$is_filtered
);
// выведем все записи
while ($ar = $rs->Fetch())
{
	echo "<pre>"; print_r($ar); echo "</pre>";    
}
?>Копировать
```

Новинки документации в соцсетях: