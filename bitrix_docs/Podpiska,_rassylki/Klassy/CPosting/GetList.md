[Подписка, рассылки](/api_help/subscribe/index.php)

[Классы](/api_help/subscribe/classes/index.php)

[CPosting](/api_help/subscribe/classes/cposting/index.php)

GetList (доступен с 3.1.1)

GetList
=======

Включить вкладки

Описание и параметры

Возвращаемые значения

Примеры использования

### Описание и параметры

```
CDBResult
CPosting::GetList(
	$aSort = Array(),
	$arFilter = Array(),
	$arSelect = Array(),
	$arNavStartParams = false
);Копировать
```

Метод возвращает список выпусков по фильтру. Метод нестатический.

#### Параметры

| Параметр | Описание | C версии |
| --- | --- | --- |
| aSort | Массив, содержащий признак сортировки в виде наборов "название поля"=>"направление".     Название поля может принимать значение:  * **ID** - идентификатор выпуска; * **TIMESTAMP** - дата изменения; * **SUBJECT** - тема письма; * **BODY\_TYPE** - тип текста; * **STATUS** - статус выпуска; * **DATE\_SENT** - дата отправки выпуска; * **AUTO\_SEND\_TIME** - время автоматической отправки выпуска;  Направление сортировки может принимать значение:  * **ASC** - по возрастанию; * **DESC** - по убыванию.  Пример:  ``` array( 	"STATUS"=>"ASC", 	"DATE_SENT"=>"DESC" )Копировать ``` |  |
| arFilter | Массив, содержащий фильтр в виде наборов "название поля"=>"значение фильтра".     Название поля может принимать значение:  * **ID** - идентификатор выпуска (возможны сложные условия); * **TIMESTAMP\_1** - дата изменения (начало периода); * **TIMESTAMP\_2** - дата изменения (конец периода); * **DATE\_SENT\_1** - дата отправки (начало периода); * **DATE\_SENT\_2** - дата отправки (конец периода); * **AUTO\_SEND\_TIME\_1** - дата или время автоматической отправки (начало периода); * **AUTO\_SEND\_TIME\_2** - дата или время автоматической отправки (конец периода); * **STATUS** - статус выпуска строкой (возможны сложные условия); * **STATUS\_ID** - статус выпуска символом (возможны сложные условия); * **SUBJECT** - тема письма (возможны сложные условия); * **FROM** - поле "от кого" письма (возможны сложные условия); * **TO** - кому отправлен выпуск (возможны сложные условия); * **BODY\_TYPE** - тип текста письма; * **BODY** - текст письма (возможны сложные условия); * **RUB\_ID** - массив идентификаторов рассылок с которыми связан выпуск; * **MSG\_CHARSET** - кодировка в которой был составлен выпуск (точное совпадение).  Пример:  ``` array( 	"SUBJECT"=>"test | тест", 	"TO"=>"@bitrixsoft.ru" )Копировать ``` |  |
| arSelect | Массив, содержащий список [полей CPostingGeneral](/api_help/subscribe/classes/cpostinggeneral/cpostingfields.php). | 20.0.0 |
| arNavStartParams | Необязательное. По умолчанию **false** - не ограничивать выводимые элементы. Для ограничения выводимых элементов передается массив с ключами  * **nTopCount** - ограничить количество сверху; * **bShowAll** - разрешить вывести все элементы при постраничной навигации; * **iNumPage** - номер страницы при постраничной навигации; * **nPageSize** - количество элементов на странице при постраничной навигации.   Если параметру arNavStartParams передать **пустой массив**, то установится ограничение на **10** выводимых элементов. | 20.0.0 |

### Возвращаемые значения

Возвращается результат запроса типа [CDBResult](/api_help/main/reference/cdbresult/index.php). При выборке из результата методами класса CDBResult становятся доступны [поля объекта "Выпуск"](/api_help/subscribe/classes/cpostinggeneral/cpostingfields.php), за исключением полей типа text.   
  
Если поля фильтра содержат ошибку, то переменная LAST\_ERROR класса содержит сообщение об ошибке.

### Примеры использования

```
$cPosting = new CPosting;
$arFilter = Array(
	"ID" => $find_id,
	"TIMESTAMP_1" => $find_timestamp_1,
	"TIMESTAMP_2" => $find_timestamp_2,
	"DATE_SENT_1" => $find_date_sent_1,
	"DATE_SENT_2" => $find_date_sent_2,
	"STATUS" => $find_status,
	"STATUS_ID" => $find_status_id,
	"SUBJECT" => $find_subject,
	"FROM" => $find_from,
	"TO" => $find_to,
	"BODY" =>; $find_body,
	"BODY_TYPE" => $find_body_type
);
$rsPosting = $cPosting->GetList(array($by=>$order), $arFilter);
$strError .= $cPosting->LAST_ERROR;
$rsPosting->NavStart(50);
echo $rsPosting->NavPrint("Issues");
while($rsPosting->NavNext(true, "f_"))
{
	//...
}Копировать
```

Новинки документации в соцсетях: