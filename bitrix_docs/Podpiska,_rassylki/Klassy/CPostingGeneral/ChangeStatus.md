[Подписка, рассылки](/api_help/subscribe/index.php)

[Классы](/api_help/subscribe/classes/index.php)

[CPostingGeneral](/api_help/subscribe/classes/cpostinggeneral/index.php)

ChangeStatus (доступен с 4.0.5)

ChangeStatus
============

Включить вкладки

Описание и параметры

Примеры использования

### Описание и параметры

```
bool
CPosting::ChangeStatus(
	int ID,
	string status
);Копировать
```

Метод изменяет статус выпуска и производит действия в соответствии с приведенной ниже таблицей. Метод нестатический.

| Текущий статус | Новый статус | Действия |
| --- | --- | --- |
| Черновик | В процессе | Формируется список адресов по которым будет происходить отправка. |
| В процессе | Остановлен | Нет. |
| Остановлен | В процессе | Нет. |
| В процессе | Отправлен с ошибками | Нет. |
| В процессе | Отправлен | Нет. |
| Отправлен с ошибками | В процессе | Адреса в очереди отправки помеченные как ошибочные помечаются на отправку. |
| Отправлен с ошибками,   Отправлен,   Остановлен | Черновик | Очередь отправки очищается. |

#### Параметры

| Параметр | Описание | С версии |
| --- | --- | --- |
| ID | Идентификатор выпуска. |  |
| status | Новый статус выпуска. Может принимать значение: "S" (отправлен успешно),"E" (отправлен с ошибками), "P" (в процессе), "W" (остановлен), "D" (черновик). |  |

#### Возвращаемые значения

true при успешной смене статуса и false при неуспешной. При неуспешной смене статуса переменная LAST\_ERROR класса содержит сообщение об ошибке.

### Примеры использования

```
//******************************
// Stop sending the message
//******************************
if($action=="stop" && $ID>0 && $POST_RIGHT=="W")
{
	$cPosting->ChangeStatus($ID, "W");
}Копировать
```

Новинки документации в соцсетях: