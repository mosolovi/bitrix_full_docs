[Валюты](/api_help/currency/index.php)

[Классы](/api_help/currency/developer/index.php)

[CCurrency](/api_help/currency/developer/ccurrency/index.php)

Add (3.3.2)

Add
===

Включить вкладки

Описание и параметры

Пример использования

### Описание и параметры

```
string
CCurrency::Add(
	array arFields
);Копировать
```

Статический метод добавляет новую валюту, если ее еще не было. После добавления новой валюты необходимо установить ее языкозависимые параметры в помощью метода [CCurrencyLang::Add](/api_help/currency/developer/ccurrencylang/ccurrencylang__add.7ce2349e.php).

#### Параметры метода

| Параметр | Описание |
| --- | --- |
| arFields | Ассоциативный массив параметров валюты, в котором ключами являются названия параметров, а значениями - значения параметров.  Допустимые названия параметров:   * **CURRENCY** - трехсимвольный код валюты (обязательный); * **AMOUNT\_CNT** - количество единиц валюты по-умолчанию, которое учавствует в задании курса валюты (например, если 10 Датских крон стоят 48.7 рублей, то 10 - это количество единиц); * **AMOUNT** - курс валюты по-умолчанию (одна из валют сайта должна иметь курс 1, она называется базовой, остальные валюты имеют курс относительно базовой валюты); * **SORT** - порядок сортировки; * **NUMCODE** - трехзначный цифровой код валюты; * **BASE** - флаг (Y/N) является ли валюта базовой (если для добавляемой валюты указано **Y** и в системе уже есть некоторая базовая валюта, то флаг с существующей валюты будет снят и **AMOUNT** у базовой валюты станет равен **1**); * **CREATED\_BY** - ID пользователя, добавившего валюту; * **MODIFIED\_BY** - ID последнего пользователя, изменившего валюту. * **LANG** - массив языкозависимых параметров, ключи - языки, значение каждого ключа - массив и [CCurrencyLang](/api_help/currency/developer/ccurrencylang/index.php) * **CURRENT\_BASE\_RATE** - Текущая стоимость 1 денежной единицы в базовой валюте. Служебное поле, используется для сортировки с учетом валют, значение по умолчанию не менять! |

#### Возвращаемые значения

Метод возвращает код добавленной валюты (сбрасывает кеш **currency\_currency\_list** и **currency\_base\_currency** в случае успешного добавления). Или *false* в случае ошибки (текст ошибки берётся через `$APPLICATION->GetException()`).

### Пример использования

```
<?
// Добавим новую валюту "Исландские кроны"
$arFields = array(
	"CURRENCY" => "ISK",
	"AMOUNT" => 44.8378,
	"AMOUNT_CNT" => 100,
	"SORT" => 250
);
CCurrency::Add($arFields);
?>Копировать
```

Новинки документации в соцсетях: