[Валюты](/api_help/currency/index.php)

[Классы](/api_help/currency/developer/index.php)

[CCurrencyRates](/api_help/currency/developer/ccurrencyrates/index.php)

CheckFields (11.5.1)

CheckFields
===========

Включить вкладки

Описание и параметры

Примеры использования

### Описание и параметры

```
boolean function
CCurrencyRates::CheckFields(
	ACTION,
	arFields
	ID = 0
);Копировать
```

Выполняет проверку полей курса при добавлении или изменении. Метод статический.

#### Параметры вызова

| Параметр | Описание |
| --- | --- |
| ACTION | Равно **ADD** или **UPDATE** с учетом регистра. Если значение в другом регистре или другое значение, то возвращает *false* без текста ошибки (exception). Если значение равно **UPDATE**, то проверяется ID. Если ID <= 0, то возвращается ошибка. В случае наличия в *arFields* ключа ID удалит его. |
| *arFields* | Значения ключей:  * CURRENCY - не пустой код валюты, обрезается до 3 символов. Обязательно будет проверен, если присутствует в массиве (даже если это обновление). * DATE\_RATE - дата курса БЕЗ ВРЕМЕНИ. Проверяется на валидность (должна быть в формате сайта/языка). Обязательно будет проверена, если присутствует в массиве (даже если обновление). * RATE\_CNT - номинал. Может быть только целым числом > 0. * RATE - курс. Может быть только вещественным числом > 0.   При добавлении обязательны все. При обновлении - RATE\_CNT и RATE могут отсутсвовать. |
| *ID* | Код обновляемого курса. Необязательный параметр. |

#### Возвращаемое значение

В случае успеха возвращает *true*. В случае ошибки - *false*. Текст ошибки можно получить через `$APPLICATION->GetException()`.

### Примеры использования

```
$ID = 7;
	$arFields = array(
		'CURRENCY' => 'RUB',
		'DATE_RATE' => '21.02.2012',
		'RATE_CNT' => 7
	);
	
	$mxRes = CCurrencyRates::CheckFields('ADD', $arFields); // вернет ошибку, т.к. нет курса (RATE)
	$mxRes = CCurrencyRates::CheckFields('UPDATE', $arFields, $ID); // ошибки не будет, т.к. при обновлении RATE не является обязательным;Копировать
```

Новинки документации в соцсетях: